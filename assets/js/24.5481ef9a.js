(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{467:function(s,a,t){"use strict";t.r(a);var e=t(2),r=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("p",[s._v("linux免密登陆\n")]),s._v(" "),t("h2",{attrs:{id:"客户端生成key"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#客户端生成key"}},[s._v("#")]),s._v(" 客户端生成key")]),s._v(" "),t("p",[s._v('如果客户端存在id_rsa unix/linux默认位置为 "~/.ssh"目录下，如果没有可以用下面的命令生成')]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("ssh-keygen -t rsa -C "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"user@email"')]),s._v("\n")])])]),t("h2",{attrs:{id:"上传pub-key"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#上传pub-key"}},[s._v("#")]),s._v(" 上传pub_key")]),s._v(" "),t("p",[s._v("需要将id_rsa.pub上传至指定服务器下的指定目录,如果服务器存在authorized_keys文件则会在该文件")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" ~/.ssh/id_rsa.pub "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" user@host "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"mkdir -p ~/.ssh && cat >> ~/.ssh/authorized_keys"')]),s._v("\n")])])]),t("h2",{attrs:{id:"修改权限"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#修改权限"}},[s._v("#")]),s._v(" 修改权限")]),s._v(" "),t("p",[s._v("需要服务器.ssh目录以及authorized_keys文件权限")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("chmod 700 ~/.ssh\nchmod 644 ~/.ssh/authorized_keys\n")])])]),t("h2",{attrs:{id:"ssh-agent"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ssh-agent"}},[s._v("#")]),s._v(" ssh-agent")]),s._v(" "),t("p",[s._v("私钥设置了密码以后，每次使用都必须输入密码，ssh-agent命令就是为了解决这个问题")]),s._v(" "),t("h3",{attrs:{id:"根据自己终端类型选择命令行环境"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#根据自己终端类型选择命令行环境"}},[s._v("#")]),s._v(" 根据自己终端类型选择命令行环境")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("ssh-agent "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v("\n")])])]),t("p",[s._v("or")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("ssh-agent "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("zsh")]),s._v("\n")])])]),t("h3",{attrs:{id:"启用ssh-agent"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#启用ssh-agent"}},[s._v("#")]),s._v(" 启用ssh-agent")]),s._v(" "),t("p",[s._v("eval命令的作用，就是运行上面的ssh-agent命令的输出，设置环境变量")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("eval")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),s._v("ssh-agent"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("\n")])])]),t("h3",{attrs:{id:"ssh-add"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ssh-add"}},[s._v("#")]),s._v(" ssh-add")]),s._v(" "),t("p",[s._v("在新建的 Shell 对话里面，使用ssh-add命令添加默认的私钥")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("ssh-add\nEnter passphrase "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" /home/you/.ssh/id_dsa: ********\nIdentity added: /home/you/.ssh/id_dsa "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("/home/you/.ssh/id_dsa"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])])]),t("p",[s._v("这样以后登陆服务器就可以使用 ssh 命令正常登录远程服务器。")]),s._v(" "),t("h2",{attrs:{id:"参考"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[s._v("#")]),s._v(" 参考")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://wangdoc.com/ssh/",target:"_blank",rel:"noopener noreferrer"}},[s._v("阮一峰ssh教程"),t("OutboundLink")],1)])])}),[],!1,null,null,null);a.default=r.exports}}]);